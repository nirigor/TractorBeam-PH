<div *ngIf="dataSource.isLoading$ | async" class="loading">
    <mat-spinner diameter=70 strokeWidth=5></mat-spinner>
    <p class="mat-headline-4">Loading Data...</p>
</div>

<div [hidden]="dataSource.isLoading$ | async" class="table-container">
    <mat-form-field>
        <mat-label>Filter</mat-label>
        <input matInput (keyup)="applyFilter($event)" #input>
    </mat-form-field>

    <div class="table">
        <table 
            mat-table 
            matSort 
            matSortActive="StorageId"
            matSortDirection="asc"
            matSortDisableClear
            (matSortChange)="sortDirectoryQuotas($event)"
            [dataSource]="dataSource">
            <ng-container matColumnDef="StorageId">
                <th mat-header-cell mat-sort-header *matHeaderCellDef> StorageId </th>
                <td mat-cell *matCellDef="let element">{{element.StorageId}}</td>
            </ng-container>
        
            <ng-container matColumnDef="QuotaPath">
                <th mat-header-cell mat-sort-header *matHeaderCellDef> QuotaPath </th>
                <td mat-cell *matCellDef="let element">{{element.QuotaPath}}</td>
            </ng-container>
        
            <ng-container matColumnDef="QuotaUsed">
                <th mat-header-cell mat-sort-header *matHeaderCellDef> QuotaUsed </th>
                <td mat-cell *matCellDef="let element">{{element.QuotaUsed | sI}}</td>
            </ng-container>
        
            <ng-container matColumnDef="QuotaHard">
                <th mat-header-cell mat-sort-header *matHeaderCellDef> QuotaHard </th>
                <td mat-cell *matCellDef="let element">{{element.QuotaHard | sI}}</td>
            </ng-container>
        
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        
            <tr *matNoDataRow>
                <td [attr.colspan]="displayedColumns.length" class="mat-headline-5" style="text-align: center;">No data matching the filter "{{input.value}}"</td>
            </tr>
        </table>
        
        <mat-paginator 
            [length]="dataSource.length"
            [pageSize]="10"
            [pageSizeOptions]="[10, 25, 50]" 
            [showFirstLastButtons]="true"
            [pageIndex]="currentPage"
            (page)="handlePageEvent($event)"
        ></mat-paginator>
    </div>
</div>
<!-- 
<div class="container">

</div> -->